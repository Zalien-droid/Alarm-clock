<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="alarm.css">
    <link rel="stylesheet" href="../bootstrap-5.2.2-dist/css/bootstrap.min.css">
    <title>ALARM</title>
</head>

<body onload="zee()">
    <main>
        <section class="clocksect">
            <div class="clockdiv">
                <div class="clock" id="time"></div>
                <div id="day" class="mb-3"></div>
                <div class="setdiv">
                    <!-- Button trigger modal -->
                    <button type="button" class="setbtn btn btn-primary" data-bs-toggle="modal"
                        data-bs-target="#exampleModal">
                        Click here to set alarm
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalLabel">Alarm</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="HrsMin">
                                        <div class="hours">
                                            <span>HOURS</span><br>
                                            <select name="hours" id="hours">
                                                <option value="hours">Hours</option>
                                                <option value="00">00</option>
                                                <option value="01">01</option>
                                                <option value="02">02</option>
                                                <option value="03">03</option>
                                                <option value="04">04</option>
                                                <option value="05">05</option>
                                                <option value="06">06</option>
                                                <option value="07">07</option>
                                                <option value="08">08</option>
                                                <option value="09">09</option>
                                                <option value="10">10</option>
                                                <option value="11">11</option>
                                                <option value="12">12</option>
                                                <option value="13">13</option>
                                                <option value="14">14</option>
                                                <option value="15">15</option>
                                                <option value="16">16</option>
                                                <option value="17">17</option>
                                                <option value="18">18</option>
                                                <option value="19">19</option>
                                                <option value="20">20</option>
                                                <option value="21">21</option>
                                                <option value="22">22</option>
                                                <option value="23">23</option>
                                            </select>
                                        </div>
                                        <div class="hours">
                                            <span>MINUTES</span><br>
                                            <select name="minutes" id="minutes">
                                                <option value="minutes">minutes</option>
                                                <option value="00">00</option>
                                                <option value="01">01</option>
                                                <option value="02">02</option>
                                                <option value="03">03</option>
                                                <option value="04">04</option>
                                                <option value="05">05</option>
                                                <option value="06">06</option>
                                                <option value="07">07</option>
                                                <option value="08">08</option>
                                                <option value="09">09</option>
                                                <option value="10">10</option>
                                                <option value="11">11</option>
                                                <option value="12">12</option>
                                                <option value="13">13</option>
                                                <option value="14">14</option>
                                                <option value="15">15</option>
                                                <option value="16">16</option>
                                                <option value="17">17</option>
                                                <option value="18">18</option>
                                                <option value="19">19</option>
                                                <option value="20">20</option>
                                                <option value="21">21</option>
                                                <option value="22">22</option>
                                                <option value="23">23</option>
                                                <option value="24">24</option>
                                                <option value="25">25</option>
                                                <option value="26">26</option>
                                                <option value="27">27</option>
                                                <option value="28">28</option>
                                                <option value="29">29</option>
                                                <option value="30">30</option>
                                                <option value="31">31</option>
                                                <option value="32">32</option>
                                                <option value="33">33</option>
                                                <option value="34">34</option>
                                                <option value="35">35</option>
                                                <option value="36">36</option>
                                                <option value="37">37</option>
                                                <option value="38">38</option>
                                                <option value="39">39</option>
                                                <option value="40">40</option>
                                                <option value="41">41</option>
                                                <option value="42">42</option>
                                                <option value="43">43</option>
                                                <option value="44">44</option>
                                                <option value="45">45</option>
                                                <option value="46">46</option>
                                                <option value="47">47</option>
                                                <option value="48">48</option>
                                                <option value="49">49</option>
                                                <option value="50">50</option>
                                                <option value="51">51</option>
                                                <option value="52">52</option>
                                                <option value="53">53</option>
                                                <option value="54">54</option>
                                                <option value="55">55</option>
                                                <option value="56">56</option>
                                                <option value="57">57</option>
                                                <option value="58">58</option>
                                                <option value="59">59</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" onclick="setAlarm()" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Set Alarm</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <section class="sect2" id="sect2">
        <div class="subsect2">
            <p class="sect2p">
                Alarm Set To:- &nbsp
            </p>
            <div id="showHour" class="sect2div"></div>
            <div class="sect2div">:</div>
            <div id="showMinute" class="sect2div"></div>
        </div>
    </section>
    <section class="sect3" id="sect3">
        <p class="sect3p">IT IS TIME!!!</p>
    </section>
</body>

</html>

<script>
    let alarmHour = document.getElementById("hours")
    let alarmMinutes = document.getElementById("minutes")
    let sect2 = document.getElementById("sect2")
    let sect3 = document.getElementById("sect3")
    let showHour = document.getElementById("showHour")
    let showMinute = document.getElementById("showMinute")
    let day = document.getElementById("day")
    let weekday = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
    let monthOfTheYear = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]

    let audio1 = new Audio("FAMY - Ava.mp3");
    function zee() {
        let today = new Date()

        let hrs = today.getHours();
        let min = today.getMinutes();
        let sec = today.getSeconds();
        let date = today.getDate();
        let dayy = weekday[today.getDay()];
        let year = today.getFullYear();
        let month = monthOfTheYear[today.getMonth()];

        if (hrs < 10) {
            hrs = "0" + hrs;
        }
        if (min < 10) {
            min = "0" + min;
        }
        if (sec < 10) {
            sec = "0" + sec;
        }

        document.getElementById("time").innerHTML = hrs + ":" + min + ":" + sec;
        setTimeout(zee, 1000);

        let alarm = {
            hour: alarmHour.value,
            minute: alarmMinutes.value
        }

        if (alarm.hour == hrs && alarm.minute == min) {
            // audio1.play();
            let ring = setInterval(() => {
                audio1.play();
            }, 1000);
            sect3.style.left = "73vh";   
        }

        day.innerHTML = today
        day.innerHTML = dayy + " " + month + " " + date + " " + year;
    }

    function setAlarm() {
        let alarm = {
            hour: alarmHour.value,
            minute: alarmMinutes.value
        }
        console.log(alarm);

        showHour.innerHTML = alarm.hour;
        showMinute.innerHTML = alarm.minute;
        sect2.style.opacity = "1";
    }
</script>
<script src="../bootstrap-5.2.2-dist/js/bootstrap.bundle.js"></script>